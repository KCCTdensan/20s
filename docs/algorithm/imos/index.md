# 累積和

## はじめに

次のような問題を考えてみます.

```
問題

長さNの配列AとQ個のクエリが与えられます.
それぞれのクエリについての答えを出力してください.

クエリの内容
整数L,Rが与えられるので，配列AのL番目からR番目までの要素の総和を求めてください.

入力
N Q
A_0 A_1 ・・・ A_N-1
L_0 R_0
L_1 R_1
.
.
.
L_Q-1 R_Q-1

制約
1<=N,Q<=2×10^5
1<=A_i<=10^9
1<=L<=R<=N
```

入力例

```
10 3
5 2 3 1 4 7 1 2 5 5
2 9
5 9
1 10
```

出力例

```
25
19
35
```

この問題の入力例を考えてみます.

愚直にやろうとすれば2+3+1+4+7+1+2+5とすべて足していって答えを出すと思いますが，この方法だと計算量がO(N)となります.

与えられた範囲が1つだけの場合はこの愚直解でも通せますが，今回の問題のように何回も範囲が与えられる場合は計算量はO(NQ)となってしまい，大きくなってしまいます.

そこで使えるのが累積和です.

## 累積和の考え方

累積和とは，事前に配列の総和をO(N)で計算しておくことで，指定範囲内の配列の要素の総和をO(1)で処理できるアルゴリズムです.

何回も範囲の総和を求めるときに使えます.

